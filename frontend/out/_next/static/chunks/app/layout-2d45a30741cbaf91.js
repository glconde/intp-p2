(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},680:(e,s,r)=>{"use strict";r.d(s,{XY:()=>j,pT:()=>m});var t=r(5155),i=r(5685),a=r(5623),n=r(4861),l=r(8564),c=r(9037),o=r(7100),d=r(2115),h=r(7130);let m=e=>{let{movie:s}=e,[r,n]=(0,d.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[r&&(0,t.jsx)(x,{data:s,openModal:n,modal:r}),(0,t.jsxs)("div",{className:"movie-wrapper hide",children:[(0,t.jsx)("div",{className:"movie-poster",children:s.posterUrl?(0,t.jsx)("picture",{children:(0,t.jsx)("img",{className:"movie-img",src:s.posterUrl,alt:s.title})}):(0,t.jsx)(i.A,{size:60,color:"#404040"})}),(0,t.jsxs)("div",{className:"movie-content",children:[(0,t.jsxs)("div",{className:"movie-title",children:[s.title," "]}),(0,t.jsxs)("div",{className:"movie-year",children:[(0,t.jsxs)("span",{children:[s.releaseYear," • ",s.genre]}),(0,t.jsx)("button",{className:"details-button",onClick:()=>{n(!r)},children:(0,t.jsx)(a.A,{})})]}),(0,t.jsx)("div",{className:"movie-description",children:s.description})]})]},s.id)]})},j=e=>{let{movie:s}=e,[r,a]=(0,d.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[r&&(0,t.jsx)(x,{data:s,openModal:a,modal:r}),(0,t.jsxs)("div",{className:"search-result",onClick:()=>{a(!r)},children:[(0,t.jsx)("div",{className:"movie-poster-search",children:s.posterUrl?(0,t.jsx)("picture",{children:(0,t.jsx)("img",{className:"movie-img",src:s.posterUrl,alt:s.title})}):(0,t.jsx)(i.A,{size:60,color:"#404040"})}),(0,t.jsxs)("div",{className:"movie-content",children:[(0,t.jsxs)("div",{children:[s.title," "]}),(0,t.jsx)("div",{className:"movie-year",children:(0,t.jsxs)("span",{children:[s.releaseYear," • ",s.genre]})}),(0,t.jsx)("div",{className:"movie-description",children:s.description})]})]},s.id)]})},x=e=>{let{data:s,openModal:r,modal:i}=e,[a,m]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(0,h.dI)(s.title,s.releaseYear).then(e=>m(e))},[s.title,s.releaseYear]),(0,t.jsxs)("div",{className:"modal",children:[(0,t.jsx)("picture",{children:(0,t.jsx)("img",{className:"modal-background",src:s.posterUrl,alt:s.title})}),(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsx)("div",{className:"modal-header",children:(0,t.jsx)(n.A,{onClick:()=>r(!i),size:30})}),(0,t.jsxs)("div",{className:"modal-content-section",children:[(0,t.jsx)("div",{className:"modal-title",children:s.title}),(0,t.jsx)("p",{className:"modal-description",children:s.description}),(0,t.jsx)("picture",{children:(0,t.jsx)("img",{className:"modal-inline-img",src:s.posterUrl,alt:s.title})}),(0,t.jsxs)("p",{children:[s.releaseYear," • ",s.genre," • ",a&&a.Runtime]}),a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"modal-content-section2",children:[(0,t.jsxs)("div",{className:"mcs",children:[(0,t.jsx)("h1",{children:(0,t.jsx)(l.A,{size:80})}),(0,t.jsx)("div",{children:a&&!a.Ratings?(0,t.jsx)("p",{children:"No ratings available"}):a&&a.Ratings.map((e,s)=>(0,t.jsxs)("div",{className:"rating",children:[(0,t.jsx)("div",{children:e.Source})," ",e.Value]},s))})]}),(0,t.jsxs)("div",{className:"mcs",children:[(0,t.jsx)("h1",{children:(0,t.jsx)(c.A,{size:80})}),(0,t.jsx)("div",{children:a&&!a.Ratings?(0,t.jsx)("p",{children:"No ratings available"}):(0,t.jsx)("div",{className:"center",children:(0,t.jsx)("div",{children:a&&a.Awards})})})]})]}),(0,t.jsx)("table",{children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Director"}),(0,t.jsx)("td",{children:a&&a.Director})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Actors"}),(0,t.jsx)("td",{children:a&&a.Actors})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Writers"}),(0,t.jsx)("td",{children:a&&a.Writer})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Languages"}),(0,t.jsx)("td",{children:a&&a.Language})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Box Office"}),(0,t.jsx)("td",{children:a&&a.BoxOffice})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Plot"}),(0,t.jsx)("td",{children:a&&a.Plot})]})]})})]}):(0,t.jsx)(o.A,{color:"yellow"})]})]})]})}},1154:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2093,23)),Promise.resolve().then(r.t.bind(r,7735,23)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,5833)),Promise.resolve().then(r.bind(r,2403))},2403:(e,s,r)=>{"use strict";r.d(s,{A:()=>o,AuthProvider:()=>c});var t=r(5155),i=r(2115),a=r(7039),n=r(5404);let l=(0,i.createContext)(void 0),c=e=>{let{children:s}=e,[r,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=(0,n.hg)(a.j,e=>{c(e),d(!1)},e=>{console.error("Firebase auth error:",e),d(!1)});return()=>e()},[]),(0,t.jsx)(l.Provider,{value:{user:r,loading:o},children:s})},o=()=>{let e=(0,i.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5833:(e,s,r)=>{"use strict";r.d(s,{default:()=>u});var t=r(5155),i=r(6874),a=r.n(i),n=r(987),l=r(2403),c=r(6631),o=r(2115),d=r(7130),h=r(680);let m=()=>{let[e,s]=(0,o.useState)([]),[r,i]=(0,o.useState)(null);return(0,o.useEffect)(()=>{d.NE.then(e=>{e.length&&"error"in e[0]?(console.error(e[0].error),s([])):s(e)})},[]),(0,t.jsxs)("div",{className:"search-wrapper",children:[(0,t.jsx)("input",{type:"search",onChange:s=>{s.target.value.length>=2&&""!=s.target.value?i(e&&e.filter(e=>e.title.toLowerCase().includes(s.target.value.toLowerCase()))):i(null)},placeholder:"Search for movies",className:"search"}),(0,t.jsx)("div",{className:"search-results",children:r&&r.map((e,s)=>(0,t.jsx)(h.XY,{movie:e},s))})]})};var j=r(5695);let x=e=>{let{path:s,title:r}=e,i=(0,j.usePathname)();return(0,t.jsx)(a(),{href:s,className:"".concat(i===s?"active":""),children:r})},u=()=>{let e=(0,j.useRouter)(),{user:s}=(0,l.A)(),r=async()=>{try{await (0,c.BP)(),alert("You are signed out"),e.replace("/")}catch(e){alert("Error signing out")}};return(0,t.jsxs)("nav",{className:"menu-bar",children:[(0,t.jsxs)("div",{className:"menu-logo",children:[(0,t.jsx)(n.A,{size:20}),"MovieBank",(0,t.jsx)(m,{})]}),(0,t.jsxs)("div",{className:"menu-links",children:[(0,t.jsx)(x,{path:"/",title:"Home"}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{path:"/dashboard",title:"Dashboard"})," ",(0,t.jsx)(a(),{onClick:r,href:"#",children:"Logout"})]}),!s&&(0,t.jsx)(x,{path:"/login",title:"Login"})]})]})}},6631:(e,s,r)=>{"use strict";r.d(s,{BP:()=>l,G6:()=>n});var t=r(7039),i=r(5404);let a=new i.HF;async function n(){try{return(await (0,i.df)(t.j,a)).user.uid}catch(e){return console.error("Google Sign-In Error:",e),null}}async function l(){try{await (0,i.CI)(t.j)}catch(e){console.error("Sign-Out Error:",e)}}},7039:(e,s,r)=>{"use strict";r.d(s,{j:()=>n});var t=r(3915),i=r(5404);let a=(0,t.Wp)({apiKey:"AIzaSyD32Icje-OzLQ2jGOnigKsPmROjWAIx6-k",authDomain:"moviebank-798c4.firebaseapp.com",projectId:"moviebank-798c4",storageBucket:"moviebank-798c4.firebasestorage.app",messagingSenderId:"437613013154",appId:"1:437613013154:web:ac7333f27d179a3c1acffb"}),n=(0,i.xI)(a)},7130:(e,s,r)=>{"use strict";r.d(s,{EK:()=>n,NE:()=>a,Sw:()=>i,dI:()=>c,zW:()=>o});var t=r(9509);let i="http://localhost:8080",a=fetch("".concat(i,"/api/movies")).then(async e=>{if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}).catch(e=>[{error:e instanceof Error?e.message:"Unknown error"}]),n=async()=>{try{let e=await fetch("".concat(i,"/api/movies"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){return[{error:e instanceof Error?e.message:"Unknown error"}]}},l=t.env.NEXT_PUBLIC_OMDB_API_KEY,c=async(e,s)=>{try{if(!l)throw Error("OMDb API key is missing");let r=await fetch("https://www.omdbapi.com/?apikey=".concat(l,"&t=").concat(encodeURIComponent(e),"&y=").concat(s));if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(e){return console.error("Error fetching OMDb data:",e),null}},o=()=>{document.querySelectorAll(".hide").forEach(e=>{e.getBoundingClientRect().top<window.innerHeight-50?e.classList.add("show"):e.classList.remove("show")})}}},e=>{e.O(0,[360,965,404,300,441,964,358],()=>e(e.s=1154)),_N_E=e.O()}]);